{% extends "shared/main.html" %}
{% load poll_extras %}
{% load render_partial %}
{% load jformat %}
{% block title %}وبلاگ{% endblock %}

{% block content %}

    <div class="clearfix"></div>

    <section class="container-fluid bkg p-0">
        <div class="row">
            <div class="col-lg-12 p-0 mb-3">
                <div class="bg-package d-flex align-items-center justify-content-center">
                    <div class="breadcrumb radius15">
                        <ul class="">
                            <li><a href="{% url 'home:main' %}">خانه / </a></li>
                            <li><a href="{% url 'blog:blog_list' %}" class="current">وبلاگ</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="container mb-4">
        <div class="row">

            <div class="col-xl-3 order-xl-1 pt-3 order-1 mb-3">

                <div class="d-flex align-items-center justify-content-center mb-3 bg-title-sidebar p-2 radius15">
                    <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.2658 0.97876C28.7008 0.97876 30.6746 4.67863 30.6746 7.81348C30.6746 10.9483 28.7008 13.489 26.2658 13.489C23.8307 13.489 21.8569 10.9479 21.8569 7.81348C21.8569 4.6791 23.8307 0.97876 26.2658 0.97876Z"
                              fill="#FFAA00"/>
                        <path d="M13.7387 0.97876C16.1737 0.97876 18.1475 4.67863 18.1475 7.81348C18.1475 10.9483 16.1737 13.489 13.7387 13.489C11.3036 13.489 9.32983 10.9479 9.32983 7.81348C9.32983 4.6791 11.3036 0.97876 13.7387 0.97876Z"
                              fill="#FFAA00"/>
                        <path d="M0.534818 17.5109C-0.500563 14.9255 -0.0464077 11.2055 2.01777 10.3819C4.08194 9.55835 6.97583 11.9425 8.01027 14.5283C9.04471 17.1142 8.20934 19.8781 6.1447 20.7017C4.08005 21.5252 1.56879 20.0967 0.534818 17.5109Z"
                              fill="#FFAA00"/>
                        <path d="M39.4698 17.5109C38.4344 20.0963 35.9241 21.5253 33.8599 20.7017C31.7957 19.8782 30.9604 17.1142 31.9943 14.5284C33.0283 11.9426 35.9227 9.55745 37.9868 10.3819C40.051 11.2064 40.5037 14.9251 39.4698 17.5109Z"
                              fill="#FFAA00"/>
                        <path d="M35.776 31.7942C35.3054 29.679 34.1759 27.7667 32.9292 25.9965C30.0075 21.85 25.329 17.6627 20.0025 17.6627C14.698 17.6627 9.99787 21.8491 7.07574 25.9965C5.82905 27.7667 4.7019 29.6766 4.22892 31.7942C3.75593 33.9119 4.01478 36.2805 5.3283 37.9991C6.64182 39.7176 9.13097 40.5816 11.0756 39.649C12.2324 39.0953 13.169 37.9789 14.4448 37.8712C15.6167 37.773 16.6521 38.5608 17.6291 39.2198C18.335 39.696 19.1869 40.1294 20.0025 40.135C20.8181 40.1294 21.6694 39.696 22.3758 39.2198C23.3529 38.5617 24.3882 37.773 25.5601 37.8712C26.836 37.9789 27.7721 39.0934 28.9293 39.649C30.874 40.5816 33.3631 39.7214 34.6766 38.001C35.9902 36.2805 36.249 33.9123 35.776 31.7942ZM24.6424 29.2432C24.0414 30.3403 23.0931 31.3063 22.2921 32.0579C21.8629 32.4609 21.4108 32.8388 20.9381 33.1899H20.9353C20.6648 33.3882 20.338 33.4951 20.0025 33.4951C19.6669 33.4951 19.3402 33.3882 19.0697 33.1899H19.0669C18.5941 32.8388 18.142 32.4609 17.7129 32.0579C16.9128 31.3058 15.9635 30.3403 15.3626 29.2432C14.866 28.3374 14.6067 27.3423 14.8637 26.3053C15.1103 25.3116 15.8953 24.4387 16.8582 24.3169C17.9717 24.1759 19.2683 24.9586 20.0025 25.8573C20.7366 24.9586 22.0332 24.1764 23.1467 24.3174C24.1096 24.4392 24.8946 25.3121 25.1413 26.3058C25.3982 27.3423 25.1389 28.3374 24.6424 29.2432Z"
                              fill="#FFAA00"/>
                    </svg>
                    <h3 class="mr-3">دسته بندی</h3>
                </div>

                <div class="card side-category p-4 mb-3">
                    <ul class="list-unstyled">
                        {% render_partial "blog_module.views.blog_categories_component" %}
                    </ul>
                </div>

                <div class="d-flex align-items-center justify-content-center mb-3 mt-3 bg-title-sidebar p-2 radius15">
                    <svg width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.2658 0.97876C28.7008 0.97876 30.6746 4.67863 30.6746 7.81348C30.6746 10.9483 28.7008 13.489 26.2658 13.489C23.8307 13.489 21.8569 10.9479 21.8569 7.81348C21.8569 4.6791 23.8307 0.97876 26.2658 0.97876Z"
                              fill="#FFAA00"/>
                        <path d="M13.7387 0.97876C16.1737 0.97876 18.1475 4.67863 18.1475 7.81348C18.1475 10.9483 16.1737 13.489 13.7387 13.489C11.3036 13.489 9.32983 10.9479 9.32983 7.81348C9.32983 4.6791 11.3036 0.97876 13.7387 0.97876Z"
                              fill="#FFAA00"/>
                        <path d="M0.534818 17.5109C-0.500563 14.9255 -0.0464077 11.2055 2.01777 10.3819C4.08194 9.55835 6.97583 11.9425 8.01027 14.5283C9.04471 17.1142 8.20934 19.8781 6.1447 20.7017C4.08005 21.5252 1.56879 20.0967 0.534818 17.5109Z"
                              fill="#FFAA00"/>
                        <path d="M39.4698 17.5109C38.4344 20.0963 35.9241 21.5253 33.8599 20.7017C31.7957 19.8782 30.9604 17.1142 31.9943 14.5284C33.0283 11.9426 35.9227 9.55745 37.9868 10.3819C40.051 11.2064 40.5037 14.9251 39.4698 17.5109Z"
                              fill="#FFAA00"/>
                        <path d="M35.776 31.7942C35.3054 29.679 34.1759 27.7667 32.9292 25.9965C30.0075 21.85 25.329 17.6627 20.0025 17.6627C14.698 17.6627 9.99787 21.8491 7.07574 25.9965C5.82905 27.7667 4.7019 29.6766 4.22892 31.7942C3.75593 33.9119 4.01478 36.2805 5.3283 37.9991C6.64182 39.7176 9.13097 40.5816 11.0756 39.649C12.2324 39.0953 13.169 37.9789 14.4448 37.8712C15.6167 37.773 16.6521 38.5608 17.6291 39.2198C18.335 39.696 19.1869 40.1294 20.0025 40.135C20.8181 40.1294 21.6694 39.696 22.3758 39.2198C23.3529 38.5617 24.3882 37.773 25.5601 37.8712C26.836 37.9789 27.7721 39.0934 28.9293 39.649C30.874 40.5816 33.3631 39.7214 34.6766 38.001C35.9902 36.2805 36.249 33.9123 35.776 31.7942ZM24.6424 29.2432C24.0414 30.3403 23.0931 31.3063 22.2921 32.0579C21.8629 32.4609 21.4108 32.8388 20.9381 33.1899H20.9353C20.6648 33.3882 20.338 33.4951 20.0025 33.4951C19.6669 33.4951 19.3402 33.3882 19.0697 33.1899H19.0669C18.5941 32.8388 18.142 32.4609 17.7129 32.0579C16.9128 31.3058 15.9635 30.3403 15.3626 29.2432C14.866 28.3374 14.6067 27.3423 14.8637 26.3053C15.1103 25.3116 15.8953 24.4387 16.8582 24.3169C17.9717 24.1759 19.2683 24.9586 20.0025 25.8573C20.7366 24.9586 22.0332 24.1764 23.1467 24.3174C24.1096 24.4392 24.8946 25.3121 25.1413 26.3058C25.3982 27.3423 25.1389 28.3374 24.6424 29.2432Z"
                              fill="#FFAA00"/>
                    </svg>
                    <h3 class="mr-3">جدیدترین مقالات</h3>
                </div>

                <div class="card thumb-post p-4 mb-3">

                    <ul>
                        {% for post in new_post %}
                            <li class="my-1">
                                <div class="d-flex align-items-center justify-content-evenly">
                                    <a href="#"><img src="{{ post.image.url }}"/></a>
                                    <div class="mr-2">
                                        <p>
                                            <a href="{% url 'blog:blog_detail' post.id %}">{{ post.title | truncatewords:4 }}</a>
                                        </p>
                                        <p>{{ post.created_date | jformat:"%Y/%m/%d" }}</p>
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>

                </div>

            </div>

            <div class="col-xl-9 order-xl-0 pl-4 order-0 mb-3">

                <div class="row">
                    {% for post in blog %}
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="card p-3 mb-3 carding-blog overlyblog">
                                <a href="page-blog.html">
                                    <img src="{{ post.image.url }}" alt="Card image">
                                </a>
                                <div class="p_relative">
                                    <h5 class="mt-5 YekanBakhFaNum-Bold"><a href="{% url 'blog:blog_detail' post.id %}">
                                        {{ post.title }}
                                    </a></h5>
                                    <div class="d-flex justify-content-center">
                                        <a class="cateblog d-flex justify-content-center align-items-center" href="#">

                                            <svg width="20" height="17" viewBox="0 0 20 17" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3.8039 15.6948C1.24392 9.80154 9.09212 3.185 14.3589 7.05897C16.8651 8.90645 18.684 13.8152 16.0989 16.3071C15.9496 16.4463 15.7836 16.5665 15.6048 16.6651C13.4566 17.8717 11.9063 15.4514 9.87622 15.1685C8.02159 14.9358 5.03555 18.5162 3.8039 15.6948Z"
                                                      fill="#2F3134"/>
                                                <path d="M2.78714 5.10761C3.04712 5.22186 3.27512 5.39813 3.45114 5.62098C3.62717 5.84382 3.74586 6.10644 3.79681 6.38581C4.18349 8.35144 1.4266 10.4961 0.24507 8.176C-0.610641 6.51112 0.90386 4.25906 2.78714 5.10761Z"
                                                      fill="#2F3134"/>
                                                <path d="M7.68856 1.26948C7.86855 1.53867 7.97938 1.8481 8.01123 2.17035C8.04308 2.49261 7.99497 2.81774 7.87116 3.11696C7.02977 5.24013 3.06986 5.60174 3.35988 2.65509C3.55322 0.524762 6.38888 -0.703308 7.68856 1.26948Z"
                                                      fill="#2F3134"/>
                                                <path d="M14.7562 2.40443C14.7276 2.72709 14.6199 3.03771 14.4425 3.30876C14.2651 3.57981 14.0236 3.80292 13.7394 3.95831C11.7559 5.08971 8.44045 2.8842 10.5171 0.775354C12.0065 -0.749889 14.9854 0.0700197 14.7562 2.40443Z"
                                                      fill="#2F3134"/>
                                                <path d="M19.3928 6.34287C19.2264 6.57342 19.0057 6.75937 18.7503 6.88427C18.4949 7.00918 18.2126 7.06917 17.9285 7.05895C15.9234 7.01241 14.4197 3.86167 16.9367 3.20288C18.752 2.72311 20.6245 4.68516 19.3928 6.34287Z"
                                                      fill="#2F3134"/>
                                            </svg>
                                            <span class="mr-2 YekanBakhFaNum-SemiBold">{{ post.category }}</span>

                                        </a>
                                    </div>

                                    <p>{{ post.description | truncatewords:4 }}</p>
                                    <div class="d-flex align-items-center justify-content-end mt-3 px-2">
                                        <a class="d-flex justify-content-center align-items-center"
                                           href="{% url "blog:blog_detail" post.id %}">
                                            <span class="ml-2 show-more">ادامه مطلب</span>
                                            <svg width="12" height="11" viewBox="0 0 12 11" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path d="M10.8019 6.17453H2.56566C2.00285 6.17453 1.53613 5.70782 1.53613 5.14501C1.53613 4.5822 2.00285 4.11548 2.56566 4.11548H10.8019C11.3647 4.11548 11.8314 4.5822 11.8314 5.14501C11.8314 5.70782 11.3647 6.17453 10.8019 6.17453Z"
                                                      fill="#FFAA00"/>
                                                <path d="M5.31096 10.2918C5.05014 10.2918 4.78933 10.1958 4.58342 9.98985L0.465311 5.87174C0.067227 5.47366 0.067227 4.81476 0.465311 4.41667L4.58342 0.298563C4.98151 -0.099521 5.64041 -0.099521 6.03849 0.298563C6.43657 0.696647 6.43657 1.35554 6.03849 1.75363L2.64791 5.14421L6.03849 8.53479C6.43657 8.93287 6.43657 9.59177 6.03849 9.98985C5.83258 10.1958 5.57177 10.2918 5.31096 10.2918Z"
                                                      fill="#FFAA00"/>
                                            </svg>
                                        </a>
                                    </div>

                                </div>

                            </div>

                        </div>

                    {% endfor %}
                </div>

                <div class="row mt-3">
                    <div class="col-12 text-center mx-auto">
                        {% if blog %}
                            <ul class="pagination justify-content-center">
                                {% if page_obj.has_previous %}
                                    <li class="page-item"><a class="page-link"
                                                             href="?page={{ page_obj.previous_page_number }}">قبلی</a>
                                    </li>
                                {% endif %}
                                {% for pageNumber in paginator.page_range %}
                                    <li class="page-item {% if page_obj.number == pageNumber %} active {% endif %}"><a
                                            class="page-link"
                                            href="?page={{ pageNumber }}">{{ pageNumber }}</a></li>
                                {% endfor %}
                                {% if page_obj.has_next %}
                                    <li class="page-item"><a class="page-link"
                                                             href="?page={{ page_obj.next_page_number }}">بعدی</a>
                                    </li>
                                {% endif %}
                            </ul>
                        {% endif %}
                    </div>
                </div>

            </div>

        </div>
    </section>


{% endblock %}